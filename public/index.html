<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta name="mobile-web-app-capable" content="yes" />

	<!-- Title -->
	<title>CPK Package Manager</title>
	<meta name="description"
		content="CPK Package Manager packages" />
	<meta name="keywords"
		content="cpk, c++, packages, manager, c, rust, npm, pip" />

	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin  />
	<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200&display=swap" rel="stylesheet" />

	<link href="/flex.css" rel="stylesheet" />
	<link href="/style.css" rel="stylesheet" />
</head>

<body id="head">
	<nav>
		<a href="/downloads">Downloads</a>
	</nav>
	<div class="logo"><a href="/"><img src="/resources/cpk.png" /></a></div>
	<%
		typeof packages != 'undefined' && packages.forEach(package => {
	%>
		<div class="package flex">
			<h3 class="name"><a href="/${package.package}">${package.package}</a></h3>
			<p class="description">${package.description || '(no description)'}</p>
			<div class="row">
				<p class="version">v${package.version}</p> 
				<p class="publishDate">(published ${package.publishDate})</p>
			</div>
		</div>
	<%
		});
	%>
	<%
		if (typeof package != 'undefined') {
	%>
		<div class="packageInfo row">
			<div class="leftPanel">
				<%
					if (typeof readme != 'undefined' && readme) {
				%>
					${readme}
				<%
					};
				%>
			</div>
			<div class="rightPanel column">
				<div class="w100p">Install:</div>
				<div class="installCommand">cpk install ${package.package}</div>
			</div>
		</div>
	<%
		}
	%>
</body>

</html>