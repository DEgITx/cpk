<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta name="mobile-web-app-capable" content="yes" />

	<!-- Title -->
	<title><% if (typeof package != 'undefined') { %>${package.package} | CPK Package Manager<% } else { %>CPK Package Manager<% } %></title>
	<meta name="description"
		content="CPK Package Manager packages" />
	<meta name="keywords"
		content="cpk<% if (typeof package != 'undefined') { %>, ${package.package}<% } %>, c++, packages, manager, c, rust, npm, pip" />

	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />

	<link href="/flex.css" rel="stylesheet" />
	<link href="/style.css" rel="stylesheet" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="/cpk.js"></script>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-DL9C0EV3QE"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-DL9C0EV3QE');
	</script>
</head>

<body id="head">
	<header>
		<nav class="split">
			<a href="/">MAIN</a>
			<a href="https://github.com/DEgITx/cpk/releases">DOWNLOAD CLIENT</a>
			<a href="https://github.com/DEgITx/cpk">SUPPORT PROJECT</a>
			<a href="https://github.com/DEgITx/cpk/blob/master/README.md">DOCUMENTATION</a>
		</nav>
		<div class="w100p searchBox row inline">
			<div class="logo"><a href="/"><img src="/resources/cpk.png" /></a></div>
			<div class="searchBar row w100p">
				<div class="search">
					<input type="search" name="searchInput" placeholder="Search cpk package" autocomplete="off" value="" element="input" />
				</div>
				<button type="submit" class="searchButton" id="searchButton" title="">Search</button>
				<div class="column searchResults split" id="searchResults">
				</div>
			</div>
			<div class="row center">Need client ? download: </div>
			<div class="row downloadLinks center">
				<button class="downloadLink button" onclick="window.location.href='https://github.com/DEgITx/cpk/releases/download/0.3.0/cpk-windows-latest-x64_0.3.0.zip';"><i class="fab fa-windows"></i> Windows</button>
				<button class="downloadLink button" onclick="window.location.href='https://github.com/DEgITx/cpk/releases/download/0.3.0/cpk-ubuntu-latest-x64_0.3.0.zip';"><img src="/images/linux.svg" height="14" /> Linux</button>
				<button class="downloadLink button" onclick="window.location.href='https://github.com/DEgITx/cpk/releases/download/0.3.0/cpk-macos-latest-x64_0.3.0.zip';"><img src="/images/apple.svg" height="14" /> MacOS</button>
			</div>
		</div>
	</header>
	<%
		typeof packages != 'undefined' && packages.forEach(package => {
	%>
		<div class="package flex split">
			<h3 class="name"><a href="/${package.package}">${package.package}</a></h3>
			<p class="description">${package.description || '(no description)'}</p>
			<div class="row">
				<p class="version">${package.version}</p> 
				<p class="publishDate">(published ${package.publishDate})</p>
			</div>
		</div>
	<%
		});
	%>
	<%
		if (typeof package != 'undefined') {
	%>
		<div class="packageInfo row">
			<div class="leftPanel column">
				<div class="packageName">${package.package}</div>
				<div class="details split"><span>${package.version}</span><span>${publishDate} days ago</span></div>
				<div class="descriptionDetails center w100p">
					<%
						if (typeof readme != 'undefined' && readme) {
					%>
						${readme}
					<%
						} else if (package.description) {
					%>
						${package.description}
					<%
						}
					%>
				</div>
			</div>
			<div class="rightPanel column">
				<div class="w100p">Install:</div>
				<div class="installCommand split">cpk install ${package.package}</div>
				<div class="row w100p split">
					<div class="column detail cell">
						<div class="name">version</div>
						<div class="value">${package.version}</div>
					</div>
					<div class="column detail cell">
						<div class="name">downloaded times:</div>
						<div class="value">${package.installed}</div>
					</div>
				</div>
				<div class="row w100p split">
					<div class="column detail cell">
						<div class="name">package languange:</div>
						<div class="value">${package.language}</div>
					</div>
					<div class="column detail cell">
						<div class="name">last published:</div>
						<div class="value">${publishDate} days ago</div>
					</div>
				</div>
				<div class="row w100p">
					<div class="column detail cell">
						<div class="name">files:</div>
						<div class="value">${package.entries}</div>
					</div>
					<div class="column detail cell">
						<div class="name">published versions:</div>
						<div class="value">${package.versions.length}</div>
					</div>
				</div>
			</div>
		</div>
	<%
		}
	%>
</body>

</html>