<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta name="mobile-web-app-capable" content="yes" />

	<!-- Title -->
	<title>CPK Package Manager</title>
	<meta name="description"
		content="CPK Package Manager packages" />
	<meta name="keywords"
		content="cpk, c++, packages, manager, c, rust, npm, pip" />

	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin  />
	<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200&display=swap" rel="stylesheet" />

	<link href="/flex.css" rel="stylesheet" />
	<link href="/style.css" rel="stylesheet" />
</head>

<body id="head">
	<nav>
		<a href="/downloads">Downloads</a>
		
	</nav>
	<div class="w100p searchBox row inline split">
		<div class="logo"><a href="/"><img src="/resources/cpk.png" /></a></div>
		<div class="search">
			<input type="search" name="searchInput" placeholder="Search cpk package" autocomplete="off" value="" element="input">
		</div>
	</div>
	<%
		typeof packages != 'undefined' && packages.forEach(package => {
	%>
		<div class="package flex">
			<h3 class="name"><a href="/${package.package}">${package.package}</a></h3>
			<p class="description">${package.description || '(no description)'}</p>
			<div class="row">
				<p class="version">v${package.version}</p> 
				<p class="publishDate">(published ${package.publishDate})</p>
			</div>
		</div>
	<%
		});
	%>
	<%
		if (typeof package != 'undefined') {
	%>
		<div class="packageInfo row">
			<div class="leftPanel column">
				<div class="packageName">${package.package}</div>
				<div class="details split"><span>${package.version}</span><span>${package.publishDate}</span></div>
				<%
					if (typeof readme != 'undefined' && readme) {
				%>
					${readme}
				<%
					};
				%>
			</div>
			<div class="rightPanel column">
				<div class="w100p">Install:</div>
				<div class="installCommand split">cpk install ${package.package}</div>
				<div class="row w100p split">
					<div class="column detail cell">
						<div class="name">version</div>
						<div class="value">${package.version}</div>
					</div>
					<div class="column detail cell">
						<div class="name">downloaded times:</div>
						<div class="value">${package.installed}</div>
					</div>
				</div>
				<div class="row w100p split">
					<div class="column detail cell">
						<div class="name">package languange:</div>
						<div class="value">${package.language}</div>
					</div>
					<div class="column detail cell">
						<div class="name">last published:</div>
						<div class="value">${package.publishDate}</div>
					</div>
				</div>
				<div class="row w100p">
					<div class="column detail cell">
						<div class="name">files:</div>
						<div class="value">${package.entries}</div>
					</div>
				</div>
			</div>
		</div>
	<%
		}
	%>
</body>

</html>